<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OCX 성과 지표 그래프</title>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        body {
            font-family: 'Pretendard', sans-serif;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            box-sizing: border-box;
        }
        .chart-container {
            width: 100%;
            max-width: 700px;
            margin: 0 auto;
        }
    </style>
</head>
<body>

    <div class="chart-container">
        <table role="presentation" width="100%" cellpadding="0" cellspacing="0" style="color: #333333;">
            <tr>
                <td align="center">
                    <table role="presentation" width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td width="25%" valign="bottom" align="center" style="padding: 0 10px;">
                                <p style="margin-bottom: 5px; font-weight: bold; font-size: 20px; color: #333;">0.79</p>
                                <table role="presentation" border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td height="200" bgcolor="#4ac2f2"></td></tr></table>
                            </td>
                            <td width="25%" valign="bottom" align="center" style="padding: 0 10px;">
                                <p style="margin-bottom: 5px; font-weight: bold; font-size: 20px; color: #333;">0.64</p>
                                <table role="presentation" border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td height="162" bgcolor="#8cbbf2"></td></tr></table>
                            </td>
                            <td width="25%" valign="bottom" align="center" style="padding: 0 10px;">
                                <p style="margin-bottom: 5px; font-weight: bold; font-size: 20px; color: #333;">0.72</p>
                                <table role="presentation" border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td height="182" bgcolor="#c2e2f2"></td></tr></table>
                            </td>
                            <td width="25%" valign="bottom" align="center" style="padding: 0 10px;">
                                <p style="margin-bottom: 5px; font-weight: bold; font-size: 20px; color: #333;">0.74</p>
                                <table role="presentation" border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td height="187" bgcolor="#e2eff2"></td></tr></table>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="4" style="border-bottom: 2px solid #aaaaaa; font-size: 1px; line-height: 1px;">&nbsp;</td>
                        </tr>
                        <tr>
                            <td align="center" style="padding-top: 10px; font-size: 16px; font-weight: bold;">만족도</td>
                            <td align="center" style="padding-top: 10px; font-size: 16px; font-weight: bold;">충성도</td>
                            <td align="center" style="padding-top: 10px; font-size: 16px; font-weight: bold;">입소문</td>
                            <td align="center" style="padding-top: 10px; font-size: 16px; font-weight: bold;">신뢰</td>
                        </tr>
                         <tr>
                            <td colspan="4" align="right" style="padding-top: 15px; font-size: 14px; color: #888888;">단위: β계수</td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    </div>
<script>
(function(){
  // 부모로 높이 전달
  function postSize(){
    var h1 = document.documentElement ? document.documentElement.scrollHeight : 0;
    var h2 = document.body ? document.body.scrollHeight : 0;
    var h  = Math.max(h1, h2);
    window.parent && window.parent.postMessage({ type:'embed-size', height: h }, '*');
  }

  // 초기/리사이즈/폰트로드/이미지 로딩 완료 등 다양한 시점에 재계산
  window.addEventListener('load', postSize);
  window.addEventListener('resize', postSize);
  document.addEventListener('DOMContentLoaded', postSize);

  // 내용 변화를 감지(표가 접히거나 글꼴이 바뀌는 등) → 자동 반영
  if ('ResizeObserver' in window){
    try{
      var ro = new ResizeObserver(function(){ postSize(); });
      ro.observe(document.body);
    }catch(e){}
  }

  // 부모가 ping하면 응답
  window.addEventListener('message', function(e){
    if ((e.data || {}).type === 'ping-embed-size') postSize();
  });

  // 안전장치: 로드 후 몇 번 더 보내기(폰트/이미지 늦게 로딩될 때)
  setTimeout(postSize, 200);
  setTimeout(postSize, 800);
})();
</script>
</body>
</html>